{% extends 'master.html' %}
{% block body %}
<div class="container py-5">
  <div class="card shadow-lg mx-auto" style="max-width: 700px; border-radius: 15px;">
    <div class="card-header bg-primary text-white text-center">
      <h4 class="mb-0">Edit Task</h4>
    </div>
    <div class="card-body">
      <form method="POST">
        {% csrf_token %}
        
        <div class="mb-3">
          <label for="title" class="form-label">Title</label>
          <input type="text" class="form-control" id="title" name="title" value="{{task.title}}" placeholder="Enter task title" required>
        </div>

        <div class="mb-3">
          <label for="description" class="form-label">Description</label>
          <textarea class="form-control" id="description" name="description" rows="4" placeholder="Task details...">{{task.description}}</textarea>
        </div>

        <div class="mb-3">
          <label for="due_date" class="form-label">Due Date</label>
          <input type="date" class="form-control" id="due_date" value="{{task.due_date|date:'Y-m-d'}}" name="due_date" required>
        </div>

        <div class="mb-3">
          <label for="priority" class="form-label">Priority</label>
          <select class="form-select" id="priority" name="priority" required>
            <option selected disabled>Choose priority</option>
            <option value="low" {% if task.priority == 'low' %}
              selected
            {% endif %}>Low</option>
            <option value="medium" {% if task.priority == 'medium' %}
              selected
            {% endif %}>Medium</option>
            <option value="high" {% if task.priority == 'high' %}
              selected
            {% endif %}>High</option>
          </select>
        </div>

        <div class="mb-4">
          <label for="status" class="form-label">Status</label>
          <select class="form-select" id="status" name="status" required>
            <option selected disabled>Choose status</option>
            <option value="pending" {% if task.status == 'pending' %}
              selected
            {% endif %}>Pending</option>
            <option value="in_progress" {% if task.status == 'in_progress' %}
              selected
            {% endif %}>In Progress</option>
            <option value="completed" {% if task.status == 'completed' %}
              selected
            {% endif %}>Completed</option>
          </select>
        </div>

        <div class="text-center">
          <button type="submit" class="btn btn-success px-5">Update Task</button>
        </div>
      </form>
    </div>
  </div>
</div>
{% endblock %}
